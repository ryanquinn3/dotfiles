USE_PYENV=0
# File to be included when running locally on macos
alias ls="eza"
alias cat="bat"

export DOTFILES=$HOME/repos/dotfiles
export EDITOR='subl -w'

if [ "$USE_PYENV" -eq 1 ]; then
  command -v pyenv && eval "$(pyenv init -)"
fi


# GH autocompletion
eval "$(gh completion -s zsh)"

# disable mouse reporting
function fix_mouse(){
  print -n -- $'\e[?1000l\e[?1002l\e[?1003l\e[?1006l\e[?1015l'
}

alias fm="fix_mouse"

cs_ssh() {
  # store all args passed to function but default to 'tmux'
  local args=("${@:-'tmux'}")
  gh codespace ssh --codespace $(current_codespace) -- -t "${args[@]}"
  local ec=$?
  [[ -t 1 ]] && print -n -- $'\e[?1000l\e[?1002l\e[?1003l\e[?1006l\e[?1015l'
  return $ec
}

gitpod_ssh() {
  # store all args passed to function but default to 'tmux'
  local args=("${@:-'tmux'}")
  gitpod_env=$(gitpod env list -o json | jq -r '.[0].id')
  gitpod env ssh "$gitpod_env" -- -t "${args[@]}"
  local ec=$?
  [[ -t 1 ]] && print -n -- $'\e[?1000l\e[?1002l\e[?1003l\e[?1006l\e[?1015l'
  return $ec
} 

push(){
  if [[ -z "$1" ]]; then
    echo "Usage: push <commit-message>"
    return 1
  fi
  gacm "$1"
  gp
}
